История: Парковка транспортного средства

Как Клиент парковки

Сценарий 1: Клиент паркуется на месте
Дано то, что клиент хочет припарковать ТС на свободно место на парковке
И если это место ранее никем не забронировано
И у него оплачены предыдущие парковки
И у него положительный баланс на карте
Когда Клиент наживает кнопку "Парковка"
Тогда начинается время отсчета стоянки на парковке
И место становится занятым

Сценарий 2: Клиент бронирует место парковки
Дано то, что Клиент бронирует свободное место в приложении
И у него оплачены предыдущие парковки
И у него положительный баланс на карте
Когда Клиент выбирает свободное место
Тогда начинается время отсчета брони
И место становится забронированным

Сценарий 3: Клиент завершил парковку
Дано то, что Клиент завершает парковку
Тогда останавливается время отсчета стоянки на парковке
И место становится свободным
И деньги списываются со счета
И запись переносится в хранилище

Сценарий 4: Вышло время брони
Дано то, что Клиент не воспользовался забронированным местом в течении 15 минут
Когда время истекает
Тогда бронь снимается, место становится свободным

Сценарий 5: Клиент снял бронь
Дано то, что Клиент сам снял бронь
Тогда бронь снимается, место становится свободным

Сценарий 6: Забронированное место занято
Дано то, что ТС припаркованно без регистрации в сервисе
Когда Клиент приезжает на забронированное им место и видит что место занято
Тогда Клиент сообщает Инспектору парковки, что место занято


Как Инспектор парковки

Сценарий 1: Инспектор парковки получает информацию о припаркованном ТС
Дано то, что ТС припаркованно
Когда Инспектор запрашивает информацию о ТС
Тогда Инспектор получает информацию о ТС и времени парковки

Сценарий 2: Инспектор парковки штрафует ТС
Дано то, что ТС припарковано без регистрации в сервисе
Когда Инспектор видит, что данное ТС не зарегистрировано в сервисе
Тогда Инспектор штрафует ТС